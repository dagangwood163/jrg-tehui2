<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Examples</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="css/mackdown.css" rel="stylesheet">
</head>
<body>
    <div class="container">
    <h1>task-18</h1>
    	<h3>问答</h3>

<ul>
<li><p>数组的方法里push、pop、shift、unshift、join、split分别什么名作用？</p>

<ul>
<li>push——可以在数组的最后面添加任意多元素，然后返回新数组的length值；</li>
<li>pop——可以删除数组末尾的一个元素，并且返回被删除的数组元素；</li>
<li>shift——可以删除数组的第一个元素，并且返回被删除的元素；</li>
<li> unshift——可以在数组的最前面添加任意多元素，并且返回新数组的length值；</li>
<li> join——可以把数组转换为字符串，字符串默认用&quot;,&quot;分割，如果join输入了参数，那么就使用传入的参数分割字符串。但是join和前面的四个命令最大的区别就是它不会改变数组本身，只是输出一个字符串，所以多用于给变量赋值。</li>
<li> split——它与join正好相反，可以把字符串分割成数组，而且也不会更改字符串本身，只是输出值传递给变量。如果没有给split传递参数，那么它会把字符串完整的转换为数组，并且数组的长度为1.如果传入了参数，（一般以逗号或者字符串中出现的字符分割）就以该参数分割数组。</li>
</ul></li>
</ul>

<h3>代码题</h3>

<ol>
<li><p>数组</p>

<ul>
<li><p>用splice实现push、pop、shift、unshift方法。 </p>

<ul>
<li><p>push函数： </p>

<pre><code>function push(){
if(typeof arguments[0] === &quot;object&quot; &amp;&amp; arguments[0] instanceof Array){
for(var i=1;i&lt;arguments.length;i++){
arguments[0].splice(arguments[0].length,0,arguments[i]);
}
console.log(arguments[0].length );
}
else{
console.log(&quot;请输入数组！&quot;);
return
}
}   
var b=[1,2,3,4];
push(b,5,6)
</code></pre></li>
<li><p>pop函数：</p>

<pre><code>function pop(){
if(arguments.length === 1 &amp;&amp; typeof arguments[0] === &quot;object&quot; &amp;&amp; arguments[0] instanceof Array){
console.log(arguments[0][arguments[0].length-1]);
arguments[0].splice(arguments[0].length-1,1);
}
else{
console.log(&quot;请删参数中除数组外的其他数据！&quot;);
return
}
}   
var b=[1,2,3,4];
pop(b)
</code></pre></li>
<li><p>unshift函数：</p>

<pre><code>function unshift(){
if(typeof arguments[0] === &quot;object&quot; &amp;&amp; arguments[0] instanceof Array){
for(var i=arguments.length-1;i&gt;0;i--){
arguments[0].splice(0,0,arguments[i]);
}
console.log(arguments[0].length );
}
else{
console.log(&quot;请输入数组！&quot;);
return
}
}   
var b=[1,2,3,4];
unshift(b,5,6)
</code></pre></li>
<li><p>shift函数：</p>

<pre><code>function shift(){
if(arguments.length ===1 &amp;&amp; typeof arguments[0] === &quot;object&quot; &amp;&amp; arguments[0] instanceof Array){
console.log(arguments[0][0]);
arguments[0].splice(0,1);
}
else{
console.log(&quot;请删参数中除数组外的其他数据！&quot;);
return
}
}   
var b=[1,2,3,4];
shift(b)    
</code></pre></li>
</ul></li>
</ul></li>
</ol>

<ul>
<li><p>使用数组拼接处如下字符串：</p>

<pre><code>var prod = {
name: &#39;女装&#39;,
styles: [&#39;短款&#39;, &#39;冬季&#39;, &#39;春装&#39;]
};
function getTpl(data){
//todo...
};
var result = getTplStr(prod);  //result为下面的字符串
</code></pre>

<p>解答如下：</p>

<pre><code>var prod = {
name: &#39;女装&#39;,
styles: [&#39;短款&#39;, &#39;冬季&#39;, &#39;春装&#39;]
};
function getTpl(data){
    var result = &quot;&quot;;        //申明空字符，遍历对象；
    for(var i in data){
        result += data[i]+&quot;,&quot;;
    }
    var result = result.split(&quot;,&quot;);     //把字符串分割为数组
    result.pop();       //删除数组最后的空值；
    var htmls=[];       //命名空数组；
    var dt = &quot;&lt;dt&gt;&quot;+result[0]+&quot;&lt;/dt&gt;\n&quot;;        //命名dt变量
    htmls.push(&#39;&lt;dl class=&quot;product&quot;&gt;\n&#39;,dt);        //push内容
    for(var j=1;j&lt;result.length;j++){       //遍历数组中除第一项元素；
        htmls.push(&quot;  &lt;dd&gt;&quot;+result[j]+&quot;&lt;/dd&gt;\n&quot;)
        //给每个元素添加内容；在&lt;dd&gt;前面添加俩个空格，纯粹是为了美观；
    }
    htmls.push(&quot;&lt;/dl&gt;&quot;);        
    console.log(htmls.join(&quot;&quot;))     //把数组重新整合为字符串；
};
var result = getTpl(prod); 
输出样式为：
&lt;dl class=&quot;product&quot;&gt;
&lt;dt&gt;女装&lt;/dt&gt;
&lt;dd&gt;短款&lt;/dd&gt;
 &lt;dd&gt;冬季&lt;/dd&gt;
 &lt;dd&gt;春装&lt;/dd&gt;
&lt;/dl&gt;
</code></pre></li>
<li><p>写一个find函数，实现下面的功能：</p>

<pre><code>var arr = [ &quot;test&quot;, 2, 1.5, false ];
function find(data,parameter){
console.log(data.indexOf(parameter)) 
}
find(arr,&quot;test&quot;);   //0
find(arr,2);    //1
find(arr,0);    -1
</code></pre></li>
<li><p>写一个函数filterNumeric，实现如下功能:</p>

<pre><code>arr = [&quot;a&quot;, 1, &quot;b&quot;, 2];
arr = filterNumeric(arr);  //   [1,2]   
</code></pre>

<p>代码如下：</p>

<pre><code>function filterNumeric(data){
var pop=[];
for(var i=0;i&lt;data.length;i++){
if(typeof data[i]===&quot;number&quot;){
    pop.push(data[i]);
}
}
console.log(pop);
return pop;
}
arr = [&quot;a&quot;, 1, &quot;b&quot;, 2];
arr = filterNumeric(arr); 
</code></pre></li>
<li><p>对象obj有个className属性，里面的值为的是空格分割的字符串(和html元素的class特性类似)，写addClass、removeClass函数，有如下功能：</p>

<pre><code>var obj = {
  className: &#39;open menu&#39;
}
addClass(obj, &#39;new&#39;) // obj.className=&#39;open menu new&#39;
addClass(obj, &#39;open&#39;)  // 因为open已经存在，此操作无任何办法
addClass(obj, &#39;me&#39;) // obj.className=&#39;open menu new me&#39;
console.log(obj.className)  // &quot;open menu new me&quot;

removeClass(obj, &#39;open&#39;) // obj.className=&#39;menu new me&#39;
removeClass(obj, &#39;blabla&#39;)  // 不变
</code></pre>

<p>代码如下：</p>

<pre><code>var obj = {
    className: &#39;open menu&#39;
}

function addClass(data, str) {
    for (var i in data) {
        if (data[i].split(&quot; &quot;).indexOf(str) === -1) {
            var p = data[i].split(&quot; &quot;);
            p.push(str);
            data[i] = p.join(&#39; &#39;)
            return data[i];
        } else {
            p = data[i];
            return data[i];
        }
    }
}
console.log(addClass(obj, &quot;new&quot;));
console.log(addClass(obj, &quot;open&quot;));
console.log(addClass(obj, &quot;me&quot;));
console.log(obj.className);

function removeClass(data, str) {
    for (var i in data) {
        var cat = data[i].split(&quot; &quot;)
        if (cat.indexOf(str) &gt; -1) {
            var dog = cat.filter(function(e) {
                return e !== str;
            });
            data[i] = dog.join(&quot; &quot;);
            return data[i];
        } else {
            return data[i];
        }
    }
}
console.log(removeClass(obj, &#39;open&#39;)) // obj.className=&#39;menu new me&#39;
 console.log(removeClass(obj, &#39;balaba&#39;))
</code></pre></li>
<li><p>写一个camelize函数，把my-short-string形式的字符串转化成myShortString形式的字符串，如</p>

<pre><code>camelize(&quot;background-color&quot;) == &#39;backgroundColor&#39;
camelize(&quot;list-style-image&quot;) == &#39;listStyleImage&#39; 
</code></pre></li>
</ul>

<p>代码如下：        </p>

<pre><code>    function camelize(str) {
    str = str.split(&quot;-&quot;);   
    //把字符串通过符号”-“拆分为数组；
    var data = &quot;&quot;,
    p1 = &quot;&quot;;        
    //命名俩个空数组；
    for (var i = 1; i &lt; str.length; i++) {  
    //通过循环变量数组；
    data = str[i].split(&quot;&quot;);        
    //把数组的字符串元素继续拆分为数组；
    data[0] = data[0].toUpperCase();    
    //把第一个字母转换为大写；
    data = data.join(&quot;&quot;);       
    //把拆分的数组合并为字符串元素；
    p1 += data;
    //通过叠加来合并变量的元素；
    }
    p1 = str[0] + p1
    //把数组的第一个元素合并；
    console.log(p1)
    //输出结果
    return p1;
    //返回结果；
    }
    camelize(&quot;back-ground-color&quot;)
    camelize(&quot;list-style-image&quot;)
</code></pre>

<ul>
<li><p>如下代码输出什么？为什么?</p>

<pre><code>arr = [&quot;a&quot;, &quot;b&quot;];
arr.push( function() { alert(this) } );
arr[arr.length-1]()  // ?      
</code></pre></li>
</ul>

<p>解析如下：</p>

<pre><code>    arr = [&quot;a&quot;, &quot;b&quot;];   
    arr.push( function() { alert(this) } );
    //把匿名函数添加到数组arr的末尾；
    //此时如果输出arr，就可以看到arr多了一个匿名函数；
    //[&quot;a&quot;, &quot;b&quot;, function anonymous()]
    arr[arr.length-1]()  
    //arr[arr.length-1]选择的是数组arr的最后一个元素，
    //即刚刚添加的匿名函数；
    //然后加括号，表示这是一个自执行函数，
    //而函数的结果就是输出当前数组，
    //所以会弹窗输出数组的详情；输出的数组没有方括号，
    //类似输出alert([1,2,3])也没有方括号，但是
    //alert(”[1,2,3]“)当作字符串输出时候就会有方括号了。
</code></pre>

<ul>
<li><p>写一个函数filterNumericInPlace，过滤数组中的数字，删除非数字</p>

<pre><code>arr = [&quot;a&quot;, 1, &quot;b&quot;, 2];
filterNumericInPlace(arr);
console.log(arr)  // [1,2]   
</code></pre></li>
</ul>

<p>代码如下：</p>

<pre><code>    arr = [&quot;a&quot;, 1, &quot;b&quot;, 2];
    function filterNumericInPlace(data) {
        for (var i = 0; i &lt; data.length; i++) {
            //遍历数组元素
            if (typeof data[i] !== &quot;number&quot;) {
                //找到所以的非数字元素
                data.splice(i, 1);
                //删除所以的非数字元素
            }
        }
        return data;
        //返回有数字组成的数组
    }
    filterNumericInPlace(arr);
     //执行function
    console.log(arr);
     //输出数组  [1,2]     
</code></pre>

<ul>
<li><p>写一个ageSort函数实现如下功能：</p>

<pre><code>var john = { name: &quot;John Smith&quot;, age: 23 }
var mary = { name: &quot;Mary Key&quot;, age: 18 }
var bob = { name: &quot;Bob-small&quot;, age: 6 }
var people = [ john, mary, bob ]
ageSort(people) // [ bob, mary, john ] 
</code></pre></li>
</ul>

<p>代码如下：</p>

<pre><code>    function ageSort(data){
        var count=[];
        for (var i in data){
            count.push(data[i].age);
        }
        console.log(count);
        count.sort(function(a,b){
                return a-b;
            });
        console.log(count);
        return count;
    }
    // 怎么把数字和文字关联起来；
    // 数字排序已经完成；
</code></pre>

<ul>
<li><p>写一个filter(arr, func) 函数用于过滤数组，接受两个参数，第一个是要处理的数组，第二个参数是回调函数(回调函数遍历接受每一个数组元素，当函数返回true时保留该元素，否则删除该元素)。实现如下功能：</p>

<pre><code>function isNumeric (el){
return typeof el === &#39;number&#39;; 
}
arr = [&quot;a&quot;, -1, 2, &quot;b&quot;]

arr = filter(arr, isNumeric) ; // arr = [-1, 2],  过滤出数字
arr = filter(arr, function(val) { return val &gt; 0 });  // arr = [2] 过滤出大于0的整数       
</code></pre></li>
</ul>

<p>函数代码如下：</p>

<pre><code>    function filter(arr,func){
     return arr.filter(func)        
     }   
</code></pre>

<h3>字符串</h3>

<ul>
<li><p>写一个 ucFirst函数，返回第一个字母为大写的字符</p>

<pre><code>ucFirst(&quot;hunger&quot;) == &quot;Hunger&quot;
</code></pre></li>
</ul>

<p>代码如下：</p>

<pre><code>    function ucFirst(str) {
    var cat = str.split(&quot;&quot;);
    //把字符串str分割为数组；
    cat[0] = cat[0].toUpperCase();
    //把数组的第一个元素转换为大写，并且重新赋值给自己；
    str = cat.join(&quot;&quot;);
    //把数组转换为字符串
    // console.log(str);
    return str;
    //返回新的字符串；
    }
    ucFirst(&quot;hunger&quot;) == &quot;Hunger&quot;
</code></pre>

<ul>
<li><p>写一个函数truncate(str, maxlength), 如果str的长度大于maxlength，会把str截断到maxlength长，并加上...，如</p>

<pre><code>truncate(&quot;hello, this is hunger valley,&quot;, 10)) == &quot;hello, thi...&quot;;
truncate(&quot;hello world&quot;, 20)) == &quot;hello world&quot;   
</code></pre></li>
</ul>

<p>代码如下：</p>

<pre><code>    function truncate(str, maxlength) {
        if (str.length &gt; maxlength) {
            str = str.substr(0, maxlength) + &quot;...&quot;;
            //通过substr（）方法返回字符串长度为maxlength
            console.log(str);
            return str;
        } else {
            console.log(str);
            return str;
        }
    }
    truncate(&quot;hello, this is hunger valley,&quot;, 10); //&quot;hello, thi...&quot;
    truncate(&quot;hello world&quot;, 20); //&quot;hello world&quot;
</code></pre>

<h3>数学函数</h3>

<ul>
<li><p>写一个函数limit2，保留数字小数点后两位，四舍五入， 如:    </p>

<pre><code>var num1 = 3.456
limit2( num1 );  //3.46
limit2( 2.42 );    //2.42
</code></pre></li>
</ul>

<p>代码如下：</p>

<pre><code>     function limit2(num) {
        num = Math.round(num * 100) / 100;
        console.log(num);
        return num;
    }
    var num1 = 3.456
     limit2(num1); //3.46
    limit2(2.42); //2.42        
</code></pre>

<ul>
<li>写一个函数，获取从min到max之间的随机数，包括min不包括max：</li>
<li><pre><code>function limit(min,max){
var count = Math.random()*(max-min)+min
console.log(count);
} 
</code></pre></li>
<li><p>写一个函数，获取从min都max之间的随机整数，包括min包括max</p>

<pre><code>function limit(min,max){
var count = Math.round(Math.random()*(max-min)+min);
console.log(count);
}
</code></pre></li>
<li><p>写一个函数，获取一个随机数组，数组中元素为长度为len，最小值为min，最大值为max(包括)的随机数</p>

<pre><code>        function limit2(min, max, len) {
    var arr = [];
    for (var i = 0; i &lt; len; i++) {
        arr[i] = Math.random() * (max - min) + min;
        //遍历数组，先给arr赋值random随机数；
    }
    var a = Math.round(Math.random() * (len - 1));
    arr[a] = max;

    //在arr数组中通过给下标赋值（0～len-1）的整数为max；
    //覆盖之前的随机数；
    console.log(arr);
    //输出数组；
    return arr;
    //返回数组；
}
limit2(1, 4, 5); //min = 1 ; max = 4 ; len = 5;
 //[2.063154788927876, 2.130518894800349, 4, 3.8430192770209413, 2.689970523706876]
 //这样每次输出数组中都会有最大值4，最小值1的概率极低。
</code></pre></li>
</ul>
    </div>
</body>
</html>