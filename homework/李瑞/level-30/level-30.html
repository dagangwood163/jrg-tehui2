<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style media="screen">
  body,ul,li{
  	padding:0;
  	margin:0;
  }
  li{
  	list-style: none;
  	float:left;
  }
	
	.div1{
		position: absolute;
		width:300px;
		height:400px;
		background:#24A6E0;
		margin:10px;
		 transition: all 1s;
	}
	.div2{
		position: absolute;
		width:300px;
		height:500px;
		background:#83F72B;
		margin:10px;
		 transition: all 1s;
	}
	.div3{
		position: absolute;
		width:300px;
		height:200px;
		background:red;
		margin:10px;
		 transition: all 1s;
	}
  </style>
</head>
<body>
	  <ul class="wrap">
	  <li class="div1">1</li>
	  <li class="div2">2</li>
	  <li class="div3">3</li>
	  <li class="div3">4</li>
	  <li class="div2">5</li>
	  <li class="div1">6</li>
	  <li class="div3">7</li>
	  <li class="div2">8</li>
	  <li class="div2">9</li>
	  <li class="div1">10</li>
	  <li class="div3">11</li>
	  <li class="div1">12</li>
	  <li class="div1">13</li>
	  <li class="div3">14</li>
	  <li class="div1">15</li>
	  <li class="div2">16</li>
	  </ul>
</body>
<script src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.js"></script>
<script>
function send(){
	var width=$(".wrap li").outerWidth(true),
		sumNum=Math.floor($(window).width()/width),
		sum=[];
		for(var i=0;i<sumNum;i++){
			sum.push(0);
		}

	$(".wrap li").each(function(){
		var $node=$(this),
			idx=0,
			minHeight=sum[0];

		for(var i=0;i<sum.length;i++){
			if(sum[i]<minHeight){
				idx=i;
				minHeight=sum[i];
			}
		}
		$node.css({
			top:minHeight,
			left:width*idx
		})
		sum[idx]=minHeight+$node.outerHeight(true);
	})
}
send();

$(window).on("resize",function(){
	send();
})

</script>
</html>
